---
output: github_document
---

**This library mainly for cleaning antiobiotics data by leveraging AMR Package, with some additional useful functions.**

## Usages

amrabxlookup::clean_antibiotics(
  x ,
  ... 
)

amrabxlookup::add_previous_resistance(df, cols, sort_by_col, patient_id_col, event_r_value="R", new_col_prefix="pr_R_")


# amrabxlookup

<!-- badges: start -->
<!-- badges: end -->

The goal of amrabxlookup is to find matching antibiotics in AMR dataset and some other additinal useful utility functions.


## Installation

You can install the development version of amrabxlookup from [GitHub](https://github.com/) with:

``` r
install.packages("devtools")
devtools::install_github("CAMO-NET-LIV/amrabxlookup", auth_token="<your_personal_access_token>")

or

install.packages("pak")
pak::pak("CAMO-NET-LIV/amrabxlookup")


```

## Examples

This is a basic example which shows you how to solve a common problem:

```{r example}
library(amrabxlookup)
## basic example code
amrabxlookup::clean_antibiotics(c("Amoxicilli"))

```


```{r example2}
library(amrabxlookup)
## basic example code
df <- data.frame(drug = c("Amoxicilln","moxicillin","Paracetamol") )
amrabxlookup::clean_antibiotics(df, drug_col = drug)
```



```{r example3}
library(amrabxlookup)
## basic example code
df <- data.frame(subject_id = c(10000032,10000280,10000280,10000280,10000826,10000826),
      chartdate = c('2150-10-12','2150-10-12','2152-03-17','2151-12-08','2187-09-26','2188-07-01'),
      AMIKACIN=c('S','R','S','S','R','R'))
amrabxlookup::add_previous_resistance(df, cols="AMIKACIN", sort_by_col='chartdate',
                                      patient_id_col='subject_id', event_r_value='R')
```



